<div dir="rtl">

# نقاشی بکش لویی (بخش دوم) - تمرین دستگرمی سوم برنامه نویسی وب

<p align="center">
  <img src="https://upload.wikimedia.org/wikipedia/commons/4/42/Sharif-University-of-Technology.jpg" alt="لوگوی دانشگاه صنعتی شریف" width="200">
</p>

<p align="center">
  <b>دانشگاه صنعتی شریف</b><br>
  دانشکده مهندسی کامپیوتر<br>
  درس برنامه‌نویسی وب - بهار ۱۴۰۴
  <br>استاد درس: دکتر یحیی پورسلطانی
</p>

<p align="center">
  <b>علی هاشمیان</b><br>
  شماره دانشجویی: ۴۰۱۱۰۶۶۸۵
</p>

---

### ۱. قابلیت‌های کلیدی برنامه

*   امکان طراحی نقاشی با کشیدن و رها کردن (drag & drop) اشکال از نوار ابزار.
*   قابلیت جابجایی اشکال کشیده شده در هر نقطه از بوم طراحی.
*   حذف یک شکل با دو بار کلیک کردن (double-click) بر روی آن.
*   امکان ویرایش و تغییر عنوان نقاشی به صورت مستقیم در هدر برنامه.
*   وجود شمارشگر زنده برای نمایش تعداد هر یک از اشکال موجود.
*   پیاده‌سازی یک سرور بک‌اند با Spring Boot جهت مدیریت کامل داده‌ها.
*   قابلیت تفکیک کاربران و ذخیره یک نقاشی منحصر به فرد برای هر کاربر.
*   ذخیره‌سازی دائمی داده‌ها در یک پایگاه داده H2 مبتنی بر فایل.
*   بارگذاری خودکار نقاشی کاربر از سرور با انتخاب او از منوی dropdown.
*   ذخیره وضعیت فعلی نقاشی روی سرور از طریق یک API با متد PUT.
*   استفاده از فرمت JSON برای ذخیره‌سازی ساختاریافته اطلاعات اشکال در دیتابیس.
*   ایجاد خودکار کاربران پیش‌فرض هنگام راه‌اندازی سرور برای سهولت در تست.




### ۲. نحوه عملکرد کلی سیستم

*   فرانت‌اند برنامه که با React توسعه داده شده، مسئولیت کامل رابط کاربری را بر عهده دارد و تمام تعاملات کاربر، از جمله drag & drop اشکال و کلیک روی دکمه‌ها را مدیریت می‌کند.
*   ارتباط بین دو بخش از طریق درخواست‌های HTTP به یک REST API برقرار می‌شود. این درخواست‌ها در فرانت‌اند، به طور متمرکز در فایل `PaintingContext.tsx` و با استفاده از تابع `fetch` ارسال می‌شوند.
*   بک‌اند که با Spring Boot پیاده‌سازی شده، این درخواست‌ها را از طریق یک `RestController` دریافت می‌کند و بر اساس نوع درخواست (GET برای خواندن و PUT برای نوشتن)، اندپوینت (endpoint) مربوطه فعال می‌شود.
*   پس از دریافت داده، بک‌اند منطق برنامه را اجرا می‌کند؛ برای مثال، اطلاعات نقاشی را به فرمت JSON تبدیل کرده و در دیتابیس H2 ذخیره می‌کند. این فرآیند با کمک لایه‌های Service و Repository مدیریت می‌شود تا کد تمیز و قابل نگهداری باشد.


### ۳. پیاده‌سازی و شرح کد

بخش سرور با معماری لایه‌ای در فریمورک Spring Boot توسعه یافته که شرح فایل‌های کلیدی آن در ادامه آمده است.

*   فایل `PaintingController.java` به عنوان دروازه ورودی برنامه، مسئولیت دریافت درخواست‌های HTTP و تعریف اندپوینت‌های API را بر عهده دارد.
*   کلاس `PaintingService.java` مغز اصلی و مرکز منطق برنامه محسوب می‌شود و وظایفی چون تبدیل داده به فرمت JSON را انجام می‌دهد.
*   کلاس‌های `User.java` و `Painting.java` موجودیت‌های اصلی یا همان Entities ما هستند که ساختار جداول دیتابیس را مشخص می‌کنند.
*   اینترفیس‌های `UserRepository` و `PaintingRepository` ابزار ارتباط ما با پایگاه داده هستند و عملیات دیتابیس را بدون نیاز به کد SQL ممکن می‌سازند.
*   کلاس‌های `PaintingDto.java` و `ShapeDto.java` به عنوان اشیاء انتقال داده، ساختار اطلاعات رد و بدل شده بین کلاینت و سرور را تعریف می‌کنند.
*   فایل `WebConfig.java` برای انجام تنظیمات مربوط به CORS استفاده شده است تا فرانت‌اند بتواند به APIهای بک‌اند دسترسی داشته باشد.
*   کلاس `DataLoader.java` یک ابزار کمکی برای راه‌اندازی اولیه است و وظیفه دارد هنگام شروع به کار سرور، کاربران پیش‌فرض را ایجاد نماید.



    
### ۴. چالش‌ها و تصمیمات طراحی

*   پروژه با چالش فنی پیچیده‌ای روبرو نبود، اما تصمیمات طراحی مهمی در طول آن گرفته شد.
*   یک تصمیم کلیدی، حذف قابلیت‌های import و export از نسخه قبل بود؛ زیرا هدف این فاز پیاده‌سازی ذخیره‌سازی سمت سرور و متمرکز برای هر کاربر بود.
*   یک چالش طراحی، نحوه ذخیره‌سازی ساختار پیچیده اشکال در دیتابیس بود که تصمیم گرفته شد کل داده به صورت یک رشته JSON در یک ستون ذخیره شود.
*   این روش پیاده‌سازی را ساده‌تر می‌کند اما در آینده، کوئری زدن بر اساس ویژگی‌های خاص هر شکل را دشوارتر می‌سازد.



### ۵. استفاده از هوش مصنوعی در پروژه

در این تمرین، از ابزارهای هوش مصنوعی (AI) به عنوان یک **دستیار برنامه‌نویس (AI Assistant)** و نه به عنوان انجام‌دهنده کامل پروژه، استفاده شد. نحوه استفاده، مزایا و معایب آن در ادامه شرح داده می‌شود.

#### نحوه استفاده


#### مزایا


#### معایب و چالش‌ها


</div>
